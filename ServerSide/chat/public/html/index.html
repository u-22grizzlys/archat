<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap Sample</title>
    <link rel="stylesheet" type='text/css' href="../css/index.css" >


<script src="/socket.io/socket.io.js"></script>
  <script src="//code.jquery.com/jquery-1.11.1.js"></script>
  </head>
  <body>
 <script>
    <!-- サーバー側とつなぐため -->
    var socket = io();

    $(function() {
      <!-- 送信されたときの処理  -->
      $('form').submit(function() {
        <!-- メッセージを取得 -->
        var message = $('#msj').val();

        <!-- メッセージがなければ終了 -->
        if (message === '') return false;

        <!-- メッセージを送信 -->
        socket.emit('message', message);

        <!-- メッセージの中身を空にしてフォーカスする -->
        $('#msj').val('').focus();
        return false;
    });

     $('#channel').on('change', function() {
       
     });
   });



    <!-- メッセージが送信された時の処理 -->
     socket.on('message', function(msj, id) {
      <!-- 取得したメッセージをtextに追加 -->
       add(msj);
      
});

function add(msj) {
 var div_element = document.createElement("div");
 div_element.innerHTML =' <div class="kaiwa">' +
     '<figure class="kaiwa-img-left">' +
     '<img src="https://moriawase.net/img/no-img2.png" alt="no-img2">' +
     '<figcaption class="kaiwa-img-description">' +
     'にゃー' +
     '</figcaption>' +
     '</figure>' +
     '<div class="kaiwa-text-right" >' +
     '<p class="message">'+ ( msj) +'</p>' +
     '</div>' ;
 var parent_object = document.getElementById("piyo");
 parent_object.appendChild(div_element);
}

function add1(){
}


  </script>

   

   <form action="">
   <input type="text"  id="msj" placeholder="メッセージを入力してください..." > 
   <input type="submit" id="btn" value="送信">
   </form>



<div id="piyo">
</div>

</body>
</html>

